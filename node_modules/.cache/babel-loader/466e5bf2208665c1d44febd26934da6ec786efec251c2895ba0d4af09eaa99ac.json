{"ast":null,"code":"import React,{useState}from'react';import qrisImage from'./images/qrisImage.png';import'./PaymentPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PaymentPage=_ref=>{let{cartItems,customerInfo,setCustomerInfo,goToMenu,handlePaymentSuccess}=_ref;// const [customerInfo, setCustomerInfo] = useState({\n//   name: '',\n//   roomNumber: ''\n//   // ... other fields if necessary\n// });\n// ... other state hooks\n// Calculate subtotal including quantity\nconst subtotal=cartItems.reduce((total,item)=>total+item.price*item.quantity,0);// Handle input change for customer info\nconst handleInputChange=event=>{const{name,value}=event.target;setCustomerInfo(prevInfo=>({...prevInfo,[name]:value}));console.log('hello2',customerInfo);};// Function to handle form submission\nconst handleSubmit=event=>{event.preventDefault();// Implement the logic to process payment here\nhandlePaymentSuccess();};const calculateExtrasPrice=selectedExtras=>{// console.log('calculateExtrasPrice is here', selectedExtras)\nreturn selectedExtras.reduce((total,extra)=>{// include option price if exist\n// console.log('calculateExtrasPrice is here >> extra', extra)\nconst optionPrice=extra.option?extra.option.price:0;// console.log('calculateExtrasPrice is here >> optionPrice', optionPrice)\n// console.log(total, optionPrice)\nreturn total+optionPrice;},0);};const calculateItemSubtotal=item=>{// console.log('calculateItemSubtotal is here', item)\nconst extrasPrice=calculateExtrasPrice(item.selectedExtras||[]);// console.log('calculateItemSubtotal is here >>> extrasPrice', extrasPrice)\nconst itemSubtotal=(item.price+extrasPrice)*item.quantity;// console.log('calculateItemSubtotal is here >>> itemSubtotal', itemSubtotal)\nreturn itemSubtotal.toLocaleString('en-US',{style:'currency',currency:'IDR',minimumFractionDigits:0});// toFixed, to 2 decimal places\n};const calculateTotal=cartItems=>{return cartItems.reduce((total,item)=>{//start with base price times the qty of item\nlet itemTotal=item.price*item.quantity;console.log('item is here',item);console.log('itemTotal is here',itemTotal);// add price of selected variant options\nif(item.selectedExtras&&item.selectedExtras.length>0){const variantsTotal=item.selectedExtras.reduce((variantsSum,variant)=>{// calculate total price of selected option within variant\nconsole.log('variant is here',variant);const optionTotal=variant.options.reduce((optionSum,option)=>{console.log('option is here',option);console.log('option.selected is here',option.selected);console.log('optionSum is here',optionSum);console.log('option.price is here',option.price);return variant.options.length>0?optionSum+option.price:optionSum;},0);console.log('variantsSum is here',variantsSum);console.log('optionTotal is here',optionTotal);return variantsSum+optionTotal;},0);console.log('itemTotal is here',itemTotal);console.log('variantsTotal is here',variantsTotal);itemTotal+=variantsTotal;}console.log('total is here',total);console.log('itemTotal is here',itemTotal);return total+itemTotal;},0);};const total=calculateTotal(cartItems);return/*#__PURE__*/_jsx(\"div\",{className:\"payment-page\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"payment-page-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment-cart-location-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"payment-page-location-room\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"roomNumber\",children:\"Room Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"roomNumber\",name:\"roomNumber\",value:customerInfo.roomNumber,onChange:handleInputChange,placeholder:\"Enter your room number\",required:true})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-cart-recap-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Confirmation\"}),cartItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"payment-cart-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageName,alt:item.name,className:\"payment-cart-item-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-cart-item-description-container\",children:[/*#__PURE__*/_jsx(\"h5\",{children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"payment-cart-price-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"payment-cart-price\",children:[/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"p\",{children:calculateItemSubtotal(item)})}),/*#__PURE__*/_jsxs(\"span\",{className:\"payment-cart-quantity\",children:[\"x \",item.quantity]})]})})]})]},item.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"total-payment-cart-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"total-payment-cart\",children:[\"Payable \",/*#__PURE__*/_jsxs(\"span\",{className:\"total-payment-cart-price\",children:[total.toLocaleString('en-US',{style:'currency',currency:'IDR',minimumFractionDigits:0}),\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handlePaymentSuccess,className:\"total-payment-cart-pay-button\",children:\"To pay\"})]})]})]})})});};export default PaymentPage;","map":{"version":3,"names":["React","useState","qrisImage","jsx","_jsx","jsxs","_jsxs","PaymentPage","_ref","cartItems","customerInfo","setCustomerInfo","goToMenu","handlePaymentSuccess","subtotal","reduce","total","item","price","quantity","handleInputChange","event","name","value","target","prevInfo","console","log","handleSubmit","preventDefault","calculateExtrasPrice","selectedExtras","extra","optionPrice","option","calculateItemSubtotal","extrasPrice","itemSubtotal","toLocaleString","style","currency","minimumFractionDigits","calculateTotal","itemTotal","length","variantsTotal","variantsSum","variant","optionTotal","options","optionSum","selected","className","children","htmlFor","type","id","roomNumber","onChange","placeholder","required","map","src","imageName","alt","onClick"],"sources":["/Users/martintirtawisata/my-react-app-pos/src/PaymentPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport qrisImage from './images/qrisImage.png';\nimport './PaymentPage.css';\n\nconst PaymentPage = ({ cartItems, customerInfo, setCustomerInfo, goToMenu, handlePaymentSuccess }) => {\n  // const [customerInfo, setCustomerInfo] = useState({\n  //   name: '',\n  //   roomNumber: ''\n  //   // ... other fields if necessary\n  // });\n\n  // ... other state hooks\n\n  // Calculate subtotal including quantity\n  const subtotal = cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n\n  // Handle input change for customer info\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setCustomerInfo(prevInfo => ({\n      ...prevInfo,\n      [name]: value\n    }));\n    console.log('hello2', customerInfo)\n  };\n\n  // Function to handle form submission\n  const handleSubmit = event => {\n    event.preventDefault();\n    // Implement the logic to process payment here\n\n    handlePaymentSuccess();\n  };\n\n  const calculateExtrasPrice = (selectedExtras) => {\n    // console.log('calculateExtrasPrice is here', selectedExtras)\n    return selectedExtras.reduce((total, extra) => {\n      // include option price if exist\n      // console.log('calculateExtrasPrice is here >> extra', extra)\n      const optionPrice = extra.option ? extra.option.price : 0;\n      // console.log('calculateExtrasPrice is here >> optionPrice', optionPrice)\n      // console.log(total, optionPrice)\n      return total + optionPrice;\n      \n    }, 0);\n  };\n\n  const calculateItemSubtotal = (item) => {\n    // console.log('calculateItemSubtotal is here', item)\n    const extrasPrice = calculateExtrasPrice(item.selectedExtras || []);\n    // console.log('calculateItemSubtotal is here >>> extrasPrice', extrasPrice)\n    const itemSubtotal = (item.price + extrasPrice) * item.quantity;\n    // console.log('calculateItemSubtotal is here >>> itemSubtotal', itemSubtotal)\n    return itemSubtotal.toLocaleString('en-US', {\n      style: 'currency',\n      currency: 'IDR',\n      minimumFractionDigits: 0\n    })\n    \n    // toFixed, to 2 decimal places\n  }\n\n  const calculateTotal = (cartItems) => {\n    return cartItems.reduce((total, item) => {\n      //start with base price times the qty of item\n      let itemTotal = item.price * item.quantity\n\n      console.log('item is here', item);\n\n      console.log('itemTotal is here', itemTotal);\n\n      // add price of selected variant options\n      if (item.selectedExtras && item.selectedExtras.length > 0) {\n        const variantsTotal = item.selectedExtras.reduce((variantsSum, variant) => {\n          // calculate total price of selected option within variant\n\n          console.log('variant is here', variant);\n\n          const optionTotal = variant.options.reduce((optionSum, option) => {\n\n            console.log('option is here', option);\n            console.log('option.selected is here', option.selected);\n            console.log('optionSum is here', optionSum);\n            console.log('option.price is here', option.price);\n\n            return variant.options.length > 0 ? optionSum + option.price : optionSum; \n          }, 0);\n          \n          console.log('variantsSum is here',variantsSum)\n          console.log('optionTotal is here',optionTotal)\n        \n          return variantsSum + optionTotal;\n        }, 0);\n\n        console.log('itemTotal is here',itemTotal)\n        console.log('variantsTotal is here',variantsTotal)\n\n        itemTotal += variantsTotal;\n      }\n\n      console.log('total is here',total)\n      console.log('itemTotal is here',itemTotal)\n\n      return (total + itemTotal)\n    }, 0);\n  };\n\n  const total = calculateTotal(cartItems);\n\n  return (\n    <div className=\"payment-page\">\n\n      <form>\n        <div className=\"payment-page-container\">\n\n          \n          <div className=\"payment-cart-location-container\">\n              <div className=\"payment-page-location-room\">\n                  <label htmlFor=\"roomNumber\">Room Number:</label>\n                  <input\n                    type=\"text\"\n                    id=\"roomNumber\"\n                    name=\"roomNumber\"\n                    value={customerInfo.roomNumber}\n                    onChange={handleInputChange}\n                    placeholder=\"Enter your room number\"\n                    required\n                  />\n              </div>\n          </div>\n\n          <div className=\"payment-cart-recap-container\">\n\n            <h3>Order Confirmation</h3>\n                      \n              {cartItems.map(item => (    \n                <div key={item.id} className=\"payment-cart-item\">\n                  <img src={item.imageName} alt={item.name} className=\"payment-cart-item-image\"/>\n\n                  <div className=\"payment-cart-item-description-container\">\n                    <h5>{item.name}</h5>\n                    <div className=\"payment-cart-price-container\">  \n                      <div className=\"payment-cart-price\">\n                        <strong><p>{calculateItemSubtotal(item)}</p></strong>\n                        <span className=\"payment-cart-quantity\">x {item.quantity}</span>\n                      </div>\n                    </div>\n                  </div>\n              </div>\n\n              ))}\n            \n            <div className=\"total-payment-cart-container\">\n              <span className=\"total-payment-cart\" >Payable <span className=\"total-payment-cart-price\">{total.toLocaleString('en-US', { style: 'currency', currency: 'IDR',minimumFractionDigits: 0 })} </span></span>      \n              <button type=\"submit\" onClick={handlePaymentSuccess} className=\"total-payment-cart-pay-button\">To pay</button>\n            </div>\n          </div>\n            \n\n\n\n          {/* <div className=\"payment-method\">\n            <h3>Scan to Pay</h3>\n            <p>Your default payment method is QRIS. Please scan the QR code below to pay.</p>\n            <img src={qrisImage} alt=\"QRIS Code\" className=\"qris-code\" />\n          </div> */}\n            \n            \n          \n\n        </div>\n      </form>\n\n      {/* <button type=\"button\" onClick={goToMenu} className=\"back-to-cart-button\">Back to Cart</button> */}\n    </div>\n  );\n};\n\nexport default PaymentPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}